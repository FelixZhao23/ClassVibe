# 成長ポイントの加点ルール（現行）

## 参照するデータ
各授業の終了時に、次のメトリクスが集計されます。
- 有効反応数（effective_interactions）
- 理解反応数（understood_count）
- 困惑反応数（confused/question に対応）
- チーム貢献（team_contribution）

※「困惑系」は旧「質問系」を引き継いでおり、
「難しい／ぜんぜんわからない／ちょっとわからない」の入力が対象です。

---

## 各系の加点ルール

### 参加系（engagement）
- すべての有効反応が対象
- 加点：`floor(有効反応数 / 4)`

### 理解系（understand）
- 「よくわかった」「ちょっとわからない」など理解系の反応が対象
- 加点：`floor(理解反応数 / 3)`

### 困惑系（question）
- 「難しい／ぜんぜんわからない／ちょっとわからない」の反応が対象
- 加点：`floor(困惑反応数 / 2)`

### 協力系（collab）
- チーム戦への貢献度が対象
- 加点：`floor(チーム貢献 / 5)`

### 安定系（stability）
- 授業内で一定以上の参加ができた場合に付与
- 条件：有効反応数が 8 以上
- 加点：`+1（条件達成時）`

---

## 補足
- 有効反応は連打抑制の影響を受け、同じ反応の連続入力は加点が減衰します。
- チーム貢献はチーム人数差に応じて補正されます。
